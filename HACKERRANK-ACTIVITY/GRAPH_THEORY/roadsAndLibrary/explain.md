To solve this problem, I checked if building a library in every city is cheaper than building roads. If libraries are cheaper, I just multiply the number of cities by the library cost. Otherwise, I treated the cities like a graph and used DFS to find connected groups. For each group, I built one library and connected the rest with roads. This way, every citizen gets access to a library at the lowest possible cost.